<!DOCTYPE html>
<html lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="GoJun" />
	
	
	
	<title>如何利用 Google Cloud 搭建 VPS ｜ GoJun</title>
	
    
    
    <meta name="description" content="Google Cloud 官网 https://cloud.google.com/ 活动 现在申请 Google Cloud 赠送免费使用 300美元一年的有效期，使⽤用最低配的话，可以玩一年，每个⽉有 86G 的流量，个人使⽤足够了吧&amp;hellip;&amp;hellip; 准备 一张 VISA信⽤用卡 Google 账户 由于 Google 在中国" />
    

    
    
    <meta name="keywords" content="Hugo, theme, zozo" />
    

	
    
    <link rel="shortcut icon" href="http://gaojun.me/images/favicon.ico" />

    <link rel="stylesheet" type="text/css" media="screen" href="http://gaojun.mecss/normalize.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="http://gaojun.me/css/zozo.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="http://gaojun.me/css/highlight.css" />

    
    
</head>

<body>
    <div class="main animate__animated animate__fadeInDown">
        <div class="nav_container animated fadeInDown">
    <div class="site_nav" id="site_nav">
        <ul>
            
            <li>
                <a href="/">Home</a>
            </li>
            
            <li>
                <a href="/posts/">Archive</a>
            </li>
            
            <li>
                <a href="/tags/">Tags</a>
            </li>
            
        </ul>
    </div>
    <div class="menu_icon">
        <a id="menu_icon"><i class="ri-menu-line"></i></a>
    </div>
</div>
        <div class="header animated fadeInDown">
    <div class="site_title_container">
        <div class="site_title">
            <h1>
                <a href="http://gaojun.me">
                    <span>GoJun</span>
                </a>
            </h1>
        </div>
        <div class="description">
            <p class="sub_title">为向往生活努力奋斗！</p>
            <div class="my_socials">
                
                
                <a href="https://github.com/freelander" title="github" target="_blank"><i class="ri-github-fill"></i></a>
                
                
                <a href="http://gaojun.me/index.xml" type="application/rss+xml" title="rss" target="_blank"><i
                        class="ri-rss-fill"></i></a>
            </div>
        </div>
    </div>
</div>
        <div class="content">
            <div class="post_page">
                <div class="post animate__animated animate__fadeInDown">
                    <div class="post_title post_detail_title">
                        <h2><a href='/posts/google-clound/'>如何利用 Google Cloud 搭建 VPS</a></h2>
                        <span class="date">2018.06.06</span>
                    </div>
                    <div class="post_content markdown"><h3 id="google-cloud-官网">Google Cloud 官网</h3>
<p><a href="https://cloud.google.com/">https://cloud.google.com/</a></p>
<h3 id="活动">活动</h3>
<p>现在申请 Google Cloud 赠送免费使用 300美元一年的有效期，使⽤用最低配的话，可以玩一年，每个⽉有 86G 的流量，个人使⽤足够了吧&hellip;&hellip;</p>
<h3 id="准备">准备</h3>
<ul>
<li>一张 VISA信⽤用卡</li>
<li>Google 账户</li>
<li>由于 Google 在中国是不存在的，所以先要有代理</li>
<li>下载 ShadowsocksX-NG，<a href="https://github.com/shadowsocks/ShadowsocksX-NG">地址</a></li>
</ul>
<h3 id="开始申请">开始申请</h3>
<p>首先需要登录你的 Google 账号，如果没有的话，自己去创建一个，这就不多说了，登录成功之后，进入到 Google Cloud <a href="https://cloud.google.com/">官网</a></p>
<p>此时你会看到右上角有个 免费试用 的入口，点击进去</p>
<p>

<div class="fancybox">
<a data-fancybox="gallery" href="/images/2018/06/01-01.png">
<img src="/images/2018/06/01-01.png" alt=""  />
</a>
</div>

</p>
<p>进去之后选择国家为 美国，为什么不选中国呢？因为没有中国可选；同意并继续</p>
<p>

<div class="fancybox">
<a data-fancybox="gallery" href="/images/2018/06/01-2.png">
<img src="/images/2018/06/01-2.png" alt=""  />
</a>
</div>

</p>
<p>接下来就是下面的界面了，账号选择个人，填写好注册信息，个人信息地址可以虚拟一个美国身份，推荐随机生成美国身份网站 <a href="http://www.haoweichi.com/Index/random">地址</a>；</p>
<p>填写你的一张 VISA 信用卡，信用卡会扣除 1 美元，这不用担心只是验证你这张信用卡是否可用，过一会就会退还给你</p>
<p>

<div class="fancybox">
<a data-fancybox="gallery" href="/images/2018/06/01-3.png">
<img src="/images/2018/06/01-3.png" alt=""  />
</a>
</div>

</p>
<p>信息填完后，点击开始免费试用，至此你已成功创建了 Google cloud 账号，并且获得免费赠送的 300 美元</p>
<h3 id="开始部署">开始部署</h3>
<p><strong>1. 创建一个项目</strong></p>
<p>完成上面步骤之后，进入到大概下面的界面，点击箭头位置开始创建一个项目</p>
<p>

<div class="fancybox">
<a data-fancybox="gallery" href="/images/2018/06/01-4.png">
<img src="/images/2018/06/01-4.png" alt=""  />
</a>
</div>

</p>
<p>进入到这个界面，项目名称随便你起，位置不用关，直接点创建</p>
<p>

<div class="fancybox">
<a data-fancybox="gallery" href="/images/2018/06/01-5.png">
<img src="/images/2018/06/01-5.png" alt=""  />
</a>
</div>

</p>
<p><strong>2. 设定防火墙</strong></p>
<p>入口：菜单依次点击【网络】&ndash;【防火墙规则】&ndash;【创建防火墙规则】</p>
<p>

<div class="fancybox">
<a data-fancybox="gallery" href="/images/2018/06/01-6.png">
<img src="/images/2018/06/01-6.png" alt=""  />
</a>
</div>

</p>
<p>先来看下我的配置</p>
<p>

<div class="fancybox">
<a data-fancybox="gallery" href="/images/2018/06/01-7.png">
<img src="/images/2018/06/01-7.png" alt=""  />
</a>
</div>

</p>
<p>主要修改点：</p>
<ul>
<li>流量方向：入站</li>
<li>对匹配项执行的操作：允许</li>
<li>目标：网络中所有实例</li>
<li>来源IP地址范围：0.0.0.0/0</li>
<li>协议和端口：全部允许</li>
<li>其他默认即可</li>
</ul>
<p><strong>3. 申请静态IP</strong></p>
<p>这个步骤可有可⽆，如果是拿来做 SS 服务器，最好还是申请一个，不然的话每次重启ip地址都会变化，客户端又得重新配置了</p>
<p>菜单依次点击【网络】&ndash;【外部IP地址】&ndash;【保留静态IP】</p>
<p>

<div class="fancybox">
<a data-fancybox="gallery" href="/images/2018/06/01-8.png">
<img src="/images/2018/06/01-8.png" alt=""  />
</a>
</div>

</p>
<p>据说区域选择亚洲东部，国内访问会比较快，这个我不知道没有验证，反正我选择了美国</p>
<blockquote>
<p>注意：静态 IP 只能申请一个</p>
</blockquote>
<h3 id="创建计算引擎">创建计算引擎</h3>
<p>菜单一次点击【计算】&ndash;【Compute Engine】&ndash;【VM 实例】</p>
<p>

<div class="fancybox">
<a data-fancybox="gallery" href="/images/2018/06/01-9.png">
<img src="/images/2018/06/01-9.png" alt=""  />
</a>
</div>

</p>
<p>

<div class="fancybox">
<a data-fancybox="gallery" href="/images/2018/06/01-10.png">
<img src="/images/2018/06/01-10.png" alt=""  />
</a>
</div>

</p>
<p>

<div class="fancybox">
<a data-fancybox="gallery" href="/images/2018/06/01-11.png">
<img src="/images/2018/06/01-11.png" alt=""  />
</a>
</div>

</p>
<p>主要修改点：</p>
<ul>
<li>机器类型：微型(一个共享 vCPU) （右边会有每个月的金额估算值，根据需要吧，选这个是5美元/月，能用一年！）</li>
<li>选择启动磁盘（系统），我选择的是 Debian</li>
<li>访问权限范围：允许默认访问权限
-（打开管理、磁盘、网络、ssh 密钥选项）选择【网络】
网络&ndash;外部IP选择临时</li>
</ul>
<p>至此，Google cloud 服务器已经配置完成，可以像正常使用 VPS 一样操作了。</p>
<h3 id="搭建-ss">搭建 SS</h3>
<p>使用 Google Cloud 自带的浏览器 SSH，推荐使用！</p>
<p>

<div class="fancybox">
<a data-fancybox="gallery" href="/images/2018/06/01-12.png">
<img src="/images/2018/06/01-12.png" alt=""  />
</a>
</div>

</p>
<ol>
<li>先输入 <code>sudo -i</code> 命令进入到 root 账户</li>
<li>搭建 Shadow-socks，推荐秋水的一键go版本，输入下面命令</li>
</ol>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">wget --no-check-certificate https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks-go.sh
chmod +x shadowsocks-go.sh
./shadowsocks-go.sh 2&gt;&amp;1 | tee shadowsocks-go.log
</code></pre></div><p>输入命令后，一路回车 Enter 就 Ok，当然这个过程你可以自己定义 端口、密码、加密方式这些信息，执行完之后就会得到如下面信息</p>
<p>

<div class="fancybox">
<a data-fancybox="gallery" href="/images/2018/06/01-13.png">
<img src="/images/2018/06/01-13.png" alt=""  />
</a>
</div>

</p>
<blockquote>
<p>该代理已经失效~~</p>
</blockquote>
<h3 id="ss-服务相关命令">SS 服务相关命令</h3>
<p>Shadowsocks-Go 版（install | uninstall | start | stop | restart | status）</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback"># 使用 root 用户登录，运行安装以及卸载的命令：
# 进入 root 用户
sudo -i
# 安装
./shadowsocks-go.sh install
# 卸载
./shadowsocks-go.sh uninstall

# 安装完成后
# 重启
/etc/init.d/shadowsocks restart
# 停止
/etc/init.d/shadowsocks stop
# 启动
/etc/init.d/shadowsocks start
# 查看运行状态
/etc/init.d/shadowsocks status

# 查看配置信息
vim /etc/shadowsocks/config.json

</code></pre></div><h3 id="参考链接">参考链接</h3>
<ul>
<li><a href="https://51.ruyo.net/2144.html">Google Cloud服务免费申请试用以及使用教程</a></li>
<li><a href="https://www.jianshu.com/p/6bd66829a1ce">用Google Cloud搭建免费一年的SS</a></li>
<li><a href="https://teddysun.com/392.html">Shadowsocks-go一键安装脚本</a></li>
</ul>
</div>
                    <div class="post_footer">
                        
                        <div class="meta">
                            <div class="info">
                                <span class="field tags">
                                    <i class="ri-stack-line"></i>
                                    
                                    <a href="http://gaojun.me/tags/%E7%BF%BB%E5%A2%99/">翻墙</a>
                                    
                                    <a href="http://gaojun.me/tags/google-cloud/">Google Cloud</a>
                                    
                                    <a href="http://gaojun.me/tags/vpn/">VPN</a>
                                    
                                </span>
                            </div>
                        </div>
                        
                    </div>
                </div>
                
                
                <div class="doc_comments"></div>
                
            </div>
        </div>
    </div>
    <a id="back_to_top" href="#" class="back_to_top"><i class="ri-arrow-up-s-line"></i></a>
    <footer class="footer">
    <div class="footer_slogan">
        <span></span>
    </div>
</footer>
    <script src="http://gaojun.me/js/jquery-3.5.1.min.js"></script>
<link href="http://gaojun.me/css/fancybox.min.css" rel="stylesheet">
<script src="http://gaojun.me/js/fancybox.min.js"></script>
<script src="http://gaojun.me/js/zozo.js"></script>


<script type="text/javascript" async
    src="https://cdn.bootcss.com/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
        MathJax.Hub.Config({
            tex2jax: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\[\[', '\]\]']],
                processEscapes: true,
                processEnvironments: true,
                skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
                TeX: {
                    equationNumbers: { autoNumber: "AMS" },
                    extensions: ["AMSmath.js", "AMSsymbols.js"]
                }
            }
        });

        MathJax.Hub.Queue(function () {
            
            
            
            var all = MathJax.Hub.getAllJax(), i;
            for (i = 0; i < all.length; i += 1) {
                all[i].SourceElement().parentNode.className += ' has-jax';
            }
        });
    </script>

<style>
    code.has-jax {
        font: inherit;
        font-size: 100%;
        background: inherit;
        border: inherit;
        color: #515151;
    }
</style>



<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-142037913-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

</body>

</html>